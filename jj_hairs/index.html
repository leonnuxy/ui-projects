<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>J&J Hairss - Artistry in Every Braid</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        /* --- 1. General Styling & Variables --- */
        :root {
            --color-primary-dark: #2c2c2c; /* Deep Charcoal */
            --color-primary-light: #fdfaf7; /* Soft Off-White */
            --color-secondary: #d1b3c4;   /* Dusty Rose */
            --color-accent: #c9a97e;      /* Soft Gold */
            --theme-accent: var(--color-accent);
            --theme-heading: var(--color-secondary);
            --theme-surface: var(--color-primary-light);
            --theme-surface-dark: #121212;
            --theme-text-on-dark: var(--color-primary-light);
            --theme-text-on-light: var(--color-primary-dark);
            --font-heading: 'Playfair Display', serif;
            --font-body: 'Montserrat', sans-serif;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: var(--font-body);
            background-color: var(--color-primary-dark);
            color: var(--color-primary-light);
            line-height: 1.6;
        }

        body.booking-open { overflow: hidden; }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        h1, h2, h3 {
            font-family: var(--font-heading);
            font-weight: 700;
            color: var(--theme-heading);
            text-shadow: 1px 1px 3px rgba(201, 169, 126, 0.3);
        }
        
        h2 {
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 3rem;
        }

        section {
            padding: 6rem 0;
        }

        /* --- 2. Header & Navigation --- */
        .main-header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
            background: rgba(44, 44, 44, 0.9);
            backdrop-filter: blur(15px);
            padding: 1rem 0;
            transition: background 0.3s ease;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            border-bottom: 1px solid rgba(201, 169, 126, 0.2);
        }

        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
        }

        .nav-logo {
            font-family: var(--font-heading);
            font-size: 1.8rem;
            color: var(--color-primary-light);
            text-decoration: none;
            font-weight: 700;
        }

        .nav-links {
            list-style: none;
            display: flex;
            gap: 2rem;
        }

        .nav-links a {
            color: var(--color-primary-light);
            text-decoration: none;
            font-size: 1rem;
            font-weight: 400;
            transition: all 0.3s ease;
            padding: 0.5rem 1.5rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50px;
            border: 1px solid transparent;
        }

        .nav-links a:hover {
            color: var(--color-primary-dark);
            background: var(--color-accent);
            border-color: var(--color-accent);
        }
        
        .hamburger {
            display: none;
            cursor: pointer;
        }

        .hamburger .line {
            width: 25px;
            height: 2px;
            background-color: var(--color-primary-light);
            margin: 5px 0;
            transition: all 0.3s ease;
        }


        /* --- 3. Hero Section --- */
        .hero {
            height: 100vh;
            background-image: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url('https://images.unsplash.com/photo-1622021133319-a9a8f4c28f3a?q=80&w=2070&auto=format&fit=crop'); /* Replace with your image */
            background-size: cover;
            background-position: center;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 0 2rem;
        }

        .hero-content h1 {
            font-size: 4rem;
            margin-bottom: 1rem;
            color: var(--color-primary-light);
            animation: fadeInUp 1s ease-out forwards;
            opacity: 0;
            text-shadow: 0 0 20px rgba(201, 169, 126, 0.5);
        }

        .hero-content p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            font-weight: 300;
            animation: fadeInUp 1s ease-out 0.5s forwards;
            opacity: 0;
        }

        .hero-content .btn {
            animation: fadeInUp 1s ease-out 1s forwards;
            opacity: 0;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .btn {
            display: inline-block;
            padding: 0.8rem 2.5rem;
            background-color: var(--color-accent);
            color: var(--color-primary-dark);
            text-decoration: none;
            font-weight: 600;
            border-radius: 50px;
            transition: all 0.3s ease;
            border: 2px solid var(--color-accent);
        }

        .btn:hover {
            background-color: transparent;
            color: var(--color-accent);
        }

        /* --- 4. Services Section --- */
        #services {
            background-color: var(--color-primary-light);
            color: var(--color-primary-dark);
        }

        .service-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        /* Modern card styles */
        .service-card {
            background: linear-gradient(180deg, #ffffff 0%, #fafafa 100%);
            border-radius: 14px;
            padding: 0;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            transition: transform .28s ease, box-shadow .28s ease;
            border: 1px solid rgba(0,0,0,0.06);
        }

        .service-card .thumb {
            height: 220px;
            width: 100%;
            display: block;
            object-fit: cover;
        }

        .service-card-content {
            padding: 1.25rem 1.5rem;
            display: flex;
            flex-direction: column;
            gap: .75rem;
        }

        .service-card h3 { font-size: 1.25rem; }

        .service-card .meta { display:flex; align-items:center; justify-content:space-between; gap:.5rem; }

        .price-pill {
            background: linear-gradient(90deg, rgba(201,169,126,0.18), rgba(201,169,126,0.06));
            color: var(--color-accent);
            font-weight:700;
            padding: .4rem .7rem;
            border-radius: 999px;
            border: 1px solid rgba(201,169,126,0.18);
            font-size: .95rem;
        }

        .service-card:hover { transform: translateY(-8px); box-shadow: 0 18px 40px rgba(7,11,14,0.18); }

        .service-card {
            background: #fff;
            text-align: center;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 10px 20px rgba(0,0,0,0.05);
            transition: transform 0.3s ease;
            border-top: 3px solid var(--color-accent);
        }
        
        .service-card:hover {
            transform: translateY(-10px);
        }

        .service-card img {
            width: 100%;
            height: 300px;
            object-fit: cover;
        }

        .service-card-content {
            padding: 1.5rem;
        }

        .service-card h3 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
        }

        .service-card .price {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--color-accent);
            margin-bottom: 1rem;
        }

        /* Services slider (horizontal snap) */
        .services-slider { display:flex; align-items:center; justify-content:center; gap:12px; position:relative; max-width:1200px; margin:0 auto; padding: 0 18px; overflow:hidden; }
        .service-nav { 
            background: linear-gradient(145deg, rgba(255,255,255,0.18), rgba(255,255,255,0.08));
            color: var(--color-primary-dark); 
            border-radius: 16px; 
            border: 1px solid rgba(201,169,126,0.25); 
            width: 48px; 
            height: 48px; 
            display:flex; 
            align-items:center; 
            justify-content:center; 
            cursor:pointer; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.12), inset 0 1px 0 rgba(255,255,255,0.35);
            transition: transform .22s ease, box-shadow .22s ease, border-color .22s ease;
        }
        .service-nav:hover { transform: translateY(-2px); box-shadow: 0 14px 38px rgba(0,0,0,0.18); border-color: rgba(201,169,126,0.45); }
        .service-nav:active { transform: translateY(0); box-shadow: 0 8px 22px rgba(0,0,0,0.18); }
        .service-stack { 
            position:relative; 
            width:100%; 
            max-width:1100px; 
            height:560px; 
            display:flex; 
            align-items:flex-start;
            gap: 18px; 
            overflow-x:auto; 
            scroll-snap-type: x mandatory; 
            -webkit-overflow-scrolling: touch;
            padding: 12px 6px 18px;
        }
        .service-stack__card { 
            position:relative; 
            transform: none; 
            flex: 0 0 auto;
            width: min(420px, 84vw); 
            max-width: 440px; 
            height: 520px; 
            border-radius:32px; 
            overflow:hidden; 
            background:#1a1a1a; 
            box-shadow:0 28px 70px -18px rgba(0,0,0,0.55); 
            transition:transform .35s ease, opacity .28s ease, box-shadow .3s ease; 
            display:flex; 
            flex-direction: column;
            justify-content: space-between;
            scroll-snap-align: center;
            margin: 0 auto;
        }
        .service-stack__card img.thumb { 
            position:absolute; 
            inset:0; 
            width:100%; 
            height:100%; 
            object-fit:cover; 
            z-index:1; 
            transition: transform 0.7s ease;
        }
        .service-stack__card:hover img.thumb {
            transform: scale(1.05);
        }
        
        /* Dark Glass Footer */
        .service-card__footer {
            position: relative;
            z-index: 2;
            background: linear-gradient(to top, rgba(0,0,0,0.95) 0%, rgba(0,0,0,0.7) 50%, transparent 100%);
            padding: 5rem 1.5rem 1.5rem;
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
        }
        .service-card__footer .desc {
            color: rgba(255, 255, 255, 0.9);
            font-size: 1rem;
            margin-bottom: 1rem;
            line-height: 1.6;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        .service-card__footer .meta-row {
            display: flex;
            gap: 0.75rem;
            margin-bottom: 1rem;
            flex-wrap: wrap;
        }
        .pill {
            padding: 0.3rem 0.8rem;
            border-radius: 999px;
            font-size: 0.85rem;
            font-weight: 600;
            letter-spacing: 0.02em;
            display: inline-flex;
            align-items: center;
        }
        .pill.price {
            background: rgba(255, 255, 255, 0.2);
            color: #fff;
            border: 1px solid rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(4px);
        }
        .pill.duration {
            background: rgba(0, 0, 0, 0.3);
            color: rgba(255, 255, 255, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(4px);
        }
        .service-card__footer .btn {
            width: fit-content;
            align-self: flex-start;
            background: var(--color-accent);
            color: var(--color-primary-dark);
            border: none;
            padding: 0.6rem 1.5rem;
            font-weight: 700;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            font-size: 0.85rem;
            border-radius: 50px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        .service-card__footer .btn:hover {
            background: #fff;
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }

        @media (max-width: 1024px) {
            .service-stack { height:520px; }
            .service-stack__card { width:70%; max-width:520px; border-radius:30px; }
        }

        @media (max-width: 820px) {
            .service-stack { height:520px; }
            .service-stack__card { width:86%; height:480px; border-radius:28px; }
        }

        /* Mobile-specific bindings to prevent horizontal overflow and keep layouts contained */
        @media (max-width: 768px) {
            html, body { overflow-x: hidden; }

            /* Services: switch to a horizontal scroll-friendly carousel */
            .services-slider { gap: 8px; padding: 0 8px; }
            .service-nav { display: none; }
            .service-stack { height: auto; display:flex; gap:14px; align-items:center; padding: 1rem 6px; overflow-x:auto; scroll-snap-type:x mandatory; -webkit-overflow-scrolling:touch; }
            .service-stack__card { position:relative; transform:none !important; left:auto; top:auto; width:min(86%,480px); height:420px; flex:0 0 auto; scroll-snap-align:center; margin:0 auto; }

            /* Booking modal layout on tablets/phones */
            .booking-body { grid-template-columns: 1fr; }
            .booking-aside { order: -1; margin-bottom: 0.75rem; }
            .booking-modal { max-height: 94vh; }

            /* Bubbles: responsive grid behaviour on smaller viewports */
            .bubble-cluster { padding: 0.75rem 0; grid-auto-flow: dense; }

            /* keep bubbles sized by --bubble-size and ensure subtle shadow/border adjustments */
            .bubble { position: relative !important; border-width: 4px !important; box-shadow: 0 8px 20px rgba(7,11,14,0.12) !important; animation-duration: 5.2s; }

            /* images already fill the circle via .bubble img rules above */
        }

        /* --- 5. Gallery Section --- */
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            align-items: start;
        }
        
            /* --- 5. Gallery Section (stacked scroll) --- */
            .gallery-stack {
                display: block;
                height: min(78vh, 920px);
                max-width: 1200px;
                margin: 0 auto;
                overflow-y: auto;
                scroll-snap-type: y mandatory;
                -webkit-overflow-scrolling: touch;
                padding: 1rem 0;
            }

            .stack-item {
                scroll-snap-align: center;
                display: block;
                width: 100%;
                height: clamp(340px, 64vh, 760px);
                border-radius: 16px;
                overflow: hidden;
                margin: 1.25rem 0;
                position: relative;
                background: linear-gradient(180deg, #fff 0%, #faf7f5 100%);
                box-shadow: 0 18px 40px rgba(7,11,14,0.12), inset 0 -8px 40px rgba(201,169,126,0.03);
                transition: transform 0.28s ease, box-shadow 0.28s ease;
            }

            .stack-item img {
                width: 100%;
                height: 100%;
                object-fit: cover;
                display:block;
                transform-origin: center center;
                transition: transform 0.6s ease, filter 0.5s ease;
            }

            .stack-item .caption {
                position: absolute; left: 20px; bottom: 20px; padding: .6rem .9rem; background: rgba(0,0,0,0.5); color: #fff; border-radius: 10px; font-weight:600; backdrop-filter: blur(3px);
            }

            .stack-item:focus-within, .stack-item:hover { transform: translateY(-6px); box-shadow: 0 28px 64px rgba(7,11,14,0.2); }

            /* optional subtle zoom on active visible item - improves perceived depth */
            .stack-item.is-active img { transform: scale(1.03); filter: saturate(1.05) contrast(1.02); }

            /* --- Horizontal Deck layout --- */
            .gallery-deck { display:flex; align-items:center; justify-content:center; gap: 12px; max-width: 1200px; margin: 0 auto; padding: 0 1rem; position: relative; }

            .deck-inner { width: 100%; height: min(78vh, 920px); position: relative; overflow: hidden; display:block; }

            .deck-inner .stack-item { position: absolute; left: 50%; top: 50%; transform: translateX(-50%) translateY(-50%); width: min(980px, 90%); height: 70%; transition: transform .5s cubic-bezier(.2,.9,.2,1), opacity .4s ease, z-index .1s; }

            .deck-item-left, .deck-item-right { opacity: 0.9; }

            .stack-item[data-pos="center"] { transform: translateX(-50%) translateY(-50%) scale(1); z-index: 50; opacity: 1; }
            .stack-item[data-pos="left"] { transform: translateX(-180%) translateY(-50%) scale(.82) rotateY(8deg); z-index: 30; opacity: .95; }
            .stack-item[data-pos="right"] { transform: translateX(80%) translateY(-50%) scale(.82) rotateY(-8deg); z-index: 30; opacity: .95; }
            .stack-item[data-pos="behind-left"] { transform: translateX(-320%) translateY(-50%) scale(.7); z-index: 20; opacity:.6; }
            .stack-item[data-pos="behind-right"] { transform: translateX(220%) translateY(-50%) scale(.7); z-index: 20; opacity:.6; }

            .deck-nav { background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.06); width:48px; height:48px; border-radius:999px; display:flex; align-items:center; justify-content:center; cursor:pointer; color:var(--color-primary-light); transition: transform .18s ease, background .12s ease; }
            .deck-nav:hover { transform: scale(1.06); background: rgba(255,255,255,0.12); }
            .deck-nav svg { color: var(--color-primary-light); transform: translateY(0); }

            .deck-nav--prev { position: absolute; left: -8px; top: 50%; transform: translateY(-50%); z-index:60; }
            .deck-nav--next { position: absolute; right: -8px; top: 50%; transform: translateY(-50%); z-index:60; }

            @media (max-width: 768px) {
                .deck-inner .stack-item { width: 92%; height: 56vh; }
                .deck-nav { width:42px;height:42px; }
            }

            /* --- Bubble cluster styles (grid / watch-app inspired) --- */
            :root { --bubble-size: 180px; }

            .bubble-cluster {
                position: relative;
                width: 100%;
                max-width: 1100px;
                margin: 0 auto;
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(var(--bubble-size), 1fr));
                gap: 1rem 1.25rem;
                justify-content: center;
                align-items: center;
                padding: 1.25rem 0;
            }

            .bubble {
                --float-delay: 0s;
                position: relative;
                width: var(--bubble-size);
                height: var(--bubble-size);
                border-radius: 50%;
                overflow: hidden;
                display: flex;
                align-items: center;
                justify-content: center;
                cursor: pointer;
                transition: transform .34s cubic-bezier(.2,.9,.2,1), box-shadow .28s ease, opacity .25s ease;
                box-shadow: 0 10px 34px rgba(7,11,14,0.12);
                border: 5px solid rgba(255,255,255,0.8);
                background: linear-gradient(180deg,#fff,#fff6f4);
                animation: floaty 6s ease-in-out infinite;
                animation-delay: var(--float-delay);
            }

            .bubble img { width:100%; height:100%; object-fit:cover; display:block; border-radius: 50%; }

            /* subtle floating motion */
            @keyframes floaty { 0% { transform: translateY(-6px); } 50% { transform: translateY(6px); } 100% { transform: translateY(-6px); } }

            /* pause motion on focus/hover to allow clear tap target */
            .bubble:focus, .bubble:hover { animation-play-state: paused; transform: translateY(0) scale(1.03); z-index: 40; }

            /* overlay + popup viewer for enlarged bubbles */
            .bubble-overlay {
                position: fixed;
                inset: 0;
                background: rgba(8,10,12,0);
                pointer-events: none;
                transition: background .28s ease, opacity .28s ease;
                z-index: 140;
                opacity: 0;
            }

            .bubble-overlay.visible {
                background: rgba(8,10,12,0.48);
                pointer-events: auto;
                opacity: 1;
            }

            .bubble-viewer {
                position: fixed;
                z-index: 160;
                border-radius: 22px;
                overflow: hidden;
                background: #050505;
                box-shadow: 0 40px 120px rgba(10,15,20,0.55);
                opacity: 0;
                transform: translate3d(0,0,0) scale(.94);
                transition: width .42s cubic-bezier(.2,.9,.2,1), height .42s cubic-bezier(.2,.9,.2,1), left .42s cubic-bezier(.2,.9,.2,1), top .42s cubic-bezier(.2,.9,.2,1), opacity .28s ease, transform .42s cubic-bezier(.2,.9,.2,1), border-radius .32s ease;
                pointer-events: none;
            }

            .bubble-viewer.is-visible { opacity: 1; pointer-events: auto; }
            .bubble-viewer.is-open { transform: translate3d(0,0,0) scale(1); }

            .bubble-viewer__img {
                width: 100%;
                height: 100%;
                object-fit: cover;
                display: block;
            }

            body.bubble-lightbox-open { overflow: hidden; }

            body.bubble-lightbox-open .bubble {
                opacity: 0.25;
                filter: saturate(0.9);
            }

            body.bubble-lightbox-open .bubble.is-active {
                opacity: 1;
                transform: translateY(0) scale(1.06);
                box-shadow: 0 14px 34px rgba(7,11,14,0.24);
                animation-play-state: paused;
            }

            @media (max-width: 1024px) {
                :root { --bubble-size: 160px; }
            }

            @media (max-width: 768px) {
                :root { --bubble-size: 140px; }
            }

            @media (max-width: 480px) {
                :root { --bubble-size: 120px; }
            }

            /* --- 5a. Booking modal --- */
            .booking-overlay {
                position: fixed;
                inset: 0;
                background: rgba(6,8,10,0.6);
                backdrop-filter: blur(10px);
                opacity: 0;
                pointer-events: none;
                transition: opacity .24s ease;
                z-index: 2000;
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 1.5rem;
            }

            .booking-overlay.is-visible {
                opacity: 1;
                pointer-events: auto;
            }

            .booking-modal {
                width: min(960px, 94vw);
                max-height: 90vh;
                overflow: hidden;
                background: linear-gradient(135deg, rgba(20,18,16,0.96), rgba(14,14,14,0.92));
                border: 1px solid rgba(201,169,126,0.2);
                border-radius: 22px;
                box-shadow: 0 30px 120px rgba(0,0,0,0.48), 0 0 0 1px rgba(255,255,255,0.04);
                color: var(--theme-text-on-dark);
                transform: translateY(18px);
                opacity: 0;
                transition: transform .28s ease, opacity .28s ease;
                position: relative;
                z-index: 2010;
            }

            .booking-overlay.is-visible .booking-modal {
                transform: translateY(0);
                opacity: 1;
            }

            .booking-header {
                position: relative;
                display: flex;
                justify-content: space-between;
                align-items: center;
                padding: 1.25rem 1.5rem 0.75rem;
                gap: 1rem;
            }

            .booking-header h3 {
                margin: 0;
                color: var(--theme-heading);
            }

            .booking-eyebrow {
                letter-spacing: 0.08em;
                text-transform: uppercase;
                font-size: 0.75rem;
                color: rgba(255,255,255,0.7);
            }

            .booking-progress {
                display: inline-flex;
                align-items: center;
                gap: 0.4rem;
                position: absolute;
                left: 50%;
                transform: translateX(-50%);
            }

            .booking-progress .dot {
                width: 10px;
                height: 10px;
                border-radius: 50%;
                background: rgba(255,255,255,0.2);
                transition: background .22s ease, transform .22s ease;
            }

            .booking-progress .dot.is-active {
                background: var(--theme-accent);
                transform: scale(1.12);
            }

            .booking-body {
                padding: 0 1.5rem 1.5rem;
                display: grid;
                grid-template-columns: 1.2fr 0.8fr;
                gap: 1rem;
            }

            .booking-steps {
                background: rgba(255,255,255,0.02);
                border-radius: 16px;
                border: 1px solid rgba(255,255,255,0.06);
                padding: 1rem;
                box-shadow: inset 0 1px 0 rgba(255,255,255,0.04);
            }

            .booking-step { display: none; }
            .booking-step.is-active { display: block; animation: fadeUp .2s ease; }

            @keyframes fadeUp { from { opacity: 0; transform: translateY(12px); } to { opacity: 1; transform: translateY(0); } }

            .calendar-top {
                display: flex;
                align-items: center;
                justify-content: space-between;
                margin-bottom: 0.75rem;
                gap: 0.5rem;
            }

            .calendar-top h4 {
                margin: 0;
                color: var(--theme-text-on-dark);
            }

            .calendar-controls {
                display: inline-flex;
                gap: 0.4rem;
            }

            .ghost-btn {
                background: rgba(255,255,255,0.06);
                color: var(--theme-text-on-dark);
                border: 1px solid rgba(255,255,255,0.12);
                border-radius: 12px;
                padding: 0.35rem 0.6rem;
                cursor: pointer;
                transition: background .2s ease, color .2s ease, border .2s ease;
            }

            .ghost-btn:hover { background: rgba(255,255,255,0.12); border-color: rgba(255,255,255,0.18); }

            .calendar-grid {
                display: grid;
                grid-template-columns: repeat(7, 1fr);
                gap: 0.35rem;
            }

            .calendar-day {
                background: rgba(255,255,255,0.04);
                border-radius: 14px;
                padding: 0.8rem 0.4rem;
                text-align: center;
                border: 1px solid transparent;
                color: rgba(255,255,255,0.86);
                cursor: pointer;
                transition: all .2s ease;
                min-height: 64px;
                appearance: none;
            }

            .calendar-day.muted { color: rgba(255,255,255,0.35); cursor: not-allowed; }

            .calendar-day:hover:not(.muted) { border-color: rgba(201,169,126,0.35); transform: translateY(-2px); }

            .calendar-day.is-selected {
                background: linear-gradient(135deg, var(--theme-accent), rgba(201,169,126,0.85));
                color: #111;
                border-color: transparent;
                box-shadow: 0 12px 32px rgba(201,169,126,0.35);
            }

            .time-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
                gap: 0.65rem;
                margin-top: 0.75rem;
            }

            .time-chip {
                border-radius: 14px;
                padding: 0.75rem 0.8rem;
                border: 1px solid rgba(255,255,255,0.12);
                background: rgba(255,255,255,0.03);
                color: rgba(255,255,255,0.86);
                cursor: pointer;
                transition: all .2s ease;
                appearance: none;
            }

            .time-chip:hover { border-color: rgba(201,169,126,0.32); transform: translateY(-1px); }
            .time-chip.is-selected {
                background: var(--theme-accent);
                color: #111;
                box-shadow: 0 10px 28px rgba(201,169,126,0.25);
            }

            .booking-summary {
                background: rgba(255,255,255,0.03);
                border: 1px solid rgba(255,255,255,0.06);
                border-radius: 14px;
                padding: 1rem;
                min-height: 140px;
            }

            .booking-summary h4 { margin: 0 0 .35rem; color: var(--theme-heading); }
            .booking-summary .line { margin: 0.35rem 0; color: rgba(255,255,255,0.82); }

            .booking-aside {
                background: linear-gradient(160deg, rgba(201,169,126,0.16), rgba(201,169,126,0.05));
                border: 1px solid rgba(201,169,126,0.22);
                border-radius: 16px;
                padding: 1rem;
                box-shadow: inset 0 1px 0 rgba(255,255,255,0.12);
            }

            .booking-aside h4 { margin-top: 0; color: var(--theme-heading); }
            .booking-aside p { color: rgba(255,255,255,0.82); margin-bottom: 0.35rem; }

            .booking-actions {
                display: flex;
                justify-content: space-between;
                align-items: center;
                gap: 0.6rem;
                margin-top: 1rem;
                flex-wrap: wrap;
            }

            .booking-close {
                position: absolute;
                top: 14px;
                right: 14px;
                width: 38px;
                height: 38px;
                border-radius: 50%;
                border: 1px solid rgba(255,255,255,0.15);
                background: rgba(255,255,255,0.06);
                color: var(--theme-text-on-dark);
                cursor: pointer;
                display: inline-flex;
                align-items: center;
                justify-content: center;
                font-size: 1rem;
                transition: background .2s ease, transform .2s ease;
            }

            .booking-close:hover { background: rgba(255,255,255,0.12); transform: scale(1.04); }

            .btn.primary {
                background: var(--theme-accent);
                color: #111;
                border-color: var(--theme-accent);
            }

            .btn.primary[disabled] {
                opacity: 0.5;
                cursor: not-allowed;
            }

            /* Booking responsiveness */
            @media (max-width: 1024px) {
                .booking-body { grid-template-columns: 1fr; }
                .booking-aside { order: -1; margin-bottom: 0.75rem; }
            }

            @media (max-width: 640px) {
                .booking-overlay { align-items: center; justify-content: center; padding: 1rem; }
                .booking-modal {
                    width: 100vw;
                    max-width: 540px;
                    height: auto;
                    max-height: 92vh;
                    border-radius: 18px;
                    overflow-y: auto;
                    -webkit-overflow-scrolling: touch;
                }
                .booking-header { padding: 1rem 1rem 0.5rem; flex-direction: column; align-items: flex-start; gap: 0.35rem; position: static; }
                .booking-progress { position: static; transform: none; margin-top: 0.35rem; }
                .booking-body { padding: 0 1rem 1rem; gap: 0.75rem; }
                .calendar-grid { gap: 0.25rem; }
                .calendar-day { min-height: 52px; padding: 0.7rem 0.35rem; }
                .time-grid { grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); }
                .booking-aside { padding: 0.85rem; }
                .booking-close { top: 10px; right: 10px; }
            }
        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 5px;
            transition: transform 0.3s ease, opacity 0.3s ease;
            box-shadow: 0 0 10px rgba(201, 169, 126, 0.2);
        }
        
        .gallery-item img:hover {
            transform: scale(1.05);
            opacity: 0.8;
        }

        /* Promo card for a larger featured image */
        .gallery-item--featured {
            grid-column: span 2;
            grid-row: span 2;
            position: relative;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 18px 40px rgba(7,11,14,0.14);
        }

        .gallery-item--featured img { height: 100%; }
        
        /* --- 6. Testimonials Section --- */
        .testimonial {
            max-width: 1100px;
            margin: 0 auto;
        }

        .testimonial-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            align-items: stretch;
        }

        .testimonial blockquote {
            font-size: 1.05rem;
            font-style: italic;
            font-weight: 300;
            margin-bottom: 0.75rem;
            line-height: 1.6;
            border-left: none;
            padding-left: 0;
            color: rgba(0,0,0,0.82);
        }

        /* Modern testimonial card */
        .testimonial-card {
            background: #fff;
            color: var(--color-primary-dark);
            border-radius: 14px;
            padding: 1.5rem 1.5rem;
            box-shadow: 0 14px 34px rgba(7,11,14,0.08);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            transition: transform .28s ease, box-shadow .28s ease;
            border-top: 3px solid var(--color-accent);
        }

        .testimonial-card:hover { transform: translateY(-6px); box-shadow: 0 20px 48px rgba(7,11,14,0.12); }

        .testimonial-meta { display:flex; align-items:center; gap:.75rem; margin-top: .85rem; }

        .avatar { width:56px; height:56px; border-radius:50%; overflow:hidden; flex:0 0 56px; background: linear-gradient(90deg,#f3e9e6,#fffaf8); display:inline-block; border:1px solid rgba(0,0,0,0.06); }

        .avatar img { width:100%; height:100%; object-fit:cover; display:block; }

        .testimonial cite { font-weight: 600; color: var(--color-secondary); }
        
        /* --- 7. Footer --- */
        .footer {
            background: linear-gradient(135deg, #1e1e1e 0%, rgba(201, 169, 126, 0.1) 100%);
            color: var(--color-primary-light);
            text-align: center;
            padding: 3rem 0;
        }
        
        .social-links a {
            color: var(--color-primary-light);
            font-size: 1.5rem;
            margin: 0 1rem;
            transition: color 0.3s ease;
        }

        .social-links a:hover {
            color: var(--color-accent);
        }
        
        .footer p {
            margin-top: 1.5rem;
            font-size: 0.9rem;
            opacity: 0.7;
        }
        
        /* --- 8. Responsive Design --- */
        @media (max-width: 1100px) {
            h2 { font-size: 2.3rem; }
            .container { padding: 0 1.5rem; }
            .gallery-grid { grid-template-columns: repeat(2, 1fr); }
            .service-card img { height: 260px; }
            .stack-item { height: clamp(300px, 58vh, 640px); }
        }

        @media (max-width: 920px) {
            .hero { min-height: 80vh; }
            .hero-content h1 { font-size: 3.2rem; }
            .hero-content p { font-size: 1.05rem; }
            .service-grid { grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); }
            .service-card img { height: 230px; }
            .gallery-stack { height: auto; max-height: none; }
            .deck-inner .stack-item { width: 94%; height: 60vh; }
            .testimonial-card { width: 100%; }
        }

        @media (max-width: 768px) {
            body {
                font-size: 16px;
            }
            
            .container {
                padding: 0 1.5rem;
            }
            
            section {
                padding: 4rem 0;
            }
            
            h2 {
                font-size: 2.2rem;
                margin-bottom: 2.5rem;
            }
            
            .hero-content h1 {
                font-size: 3rem;
                margin-bottom: 1.5rem;
            }
            
            .hero-content p {
                font-size: 1.1rem;
                margin-bottom: 2.5rem;
            }
            
            .btn {
                padding: 1rem 3rem;
                font-size: 1.1rem;
            }
            
            .main-header {
                padding: 1.5rem 0;
                box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
            }
            
            .nav-links {
                /* full-screen overlay container to avoid awkward transparent stripe */
                position: fixed !important;
                inset: 0; /* top:0; right:0; bottom:0; left:0 */
                left: 0;
                top: 0;
                width: 100vw;
                height: 100vh;
                display: flex;
                justify-content: center;
                align-items: center;
                flex-direction: column;
                transform: translateX(100%); /* slide in from right */
                transition: transform 0.45s cubic-bezier(.2,.9,.2,1), opacity 0.25s ease;
                opacity: 0;
                /* uniform translucent overlay to avoid visible striping */
                background: rgba(20,18,16,0.86);
                backdrop-filter: blur(10px) saturate(120%);
                gap: 2.5rem;
                padding: 2rem;
                box-shadow: 0 8px 30px rgba(0,0,0,0.4);
                z-index: 99999; /* ensure overlay sits above header and all page content */
                pointer-events: none;
            }

            /* warm golden vignette for subtle luxury without striping */
            .nav-links::after {
                content: '';
                position: absolute;
                inset: 0;
                pointer-events: none;
                background: radial-gradient(circle at 10% 50%, rgba(201,169,126,0.06), transparent 20%), radial-gradient(circle at 90% 50%, rgba(201,169,126,0.03), transparent 30%);
            }

            .nav-links.nav-active {
                transform: translateX(0);
                opacity: 1;
                pointer-events: auto;
            }

            /* prevent content behind from moving when menu is open */
            body.nav-open {
                height: 100vh;
                overflow: hidden;
            }

            /* make pills centered and constrained width inside overlay */
            .nav-links li {
                width: 100%;
                display: flex;
                justify-content: center;
            }

            .nav-links a {
                font-size: 1.3rem;
                padding: 1.2rem 2.5rem;
                background: rgba(255, 255, 255, 0.12);
                border-radius: 50px;
                border: 1px solid rgba(201, 169, 126, 0.25);
                width: min(360px, 86%);
                text-align: center;
                transition: transform 0.25s ease, background 0.25s ease, color 0.25s ease;
                -webkit-backdrop-filter: blur(4px);
                backdrop-filter: blur(4px);
            }
            
            .nav-links a:hover {
                background: var(--color-accent);
                color: var(--color-primary-dark);
                transform: scale(1.05);
            }

            .hamburger {
                display: block;
                z-index: 1001;
                padding: 0.5rem;
            }

            .hamburger .line {
                width: 28px;
                height: 3px;
                background-color: var(--color-primary-light);
                margin: 6px 0;
                transition: all 0.4s ease;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 1rem;
            }

            .hero-content h1 {
                font-size: 2.5rem;
            }

            .hero-content p {
                font-size: 1rem;
            }

            .btn {
                padding: 0.9rem 2.5rem;
                font-size: 1rem;
            }

            .service-card {
                margin: 0;
            }

            .service-card img {
                height: 200px;
            }

            .service-stack__card {
                height: 360px;
            }

            .gallery-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .testimonial blockquote {
                font-size: 1.1rem;
            }

            .social-links a {
                font-size: 1.8rem;
                margin: 0 1rem;
            }

            .nav-links {
                padding: 1.5rem;
                gap: 2rem;
            }

            .nav-links a {
                width: min(340px, 92%);
            }

            .bubble-cluster { height: 220px; }
            .bubble { width: 180px !important; height: 180px !important; border-width: 3px !important; }
        }

        /* Policies cards: uniform fixed size and responsive fallback */
        .policy-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2.5rem;
            align-items: start;
        }

        .policy-card {
            background:#fff;
            border-radius:12px;
            padding:1.5rem;
            box-shadow:0 10px 24px rgba(0,0,0,0.06);
            display:flex;
            flex-direction:column;
            justify-content:space-between;
            height: 360px; /* fixed uniform height */
            overflow: auto;
        }

        .policy-card h3 { font-size:1.4rem; margin-bottom:0.75rem; color:var(--color-secondary); }

        @media (max-width: 820px) {
            .policy-card { height: auto; }
        }

    </style>
</head>
<body>

    <!-- Header & Navigation -->
    <header class="main-header">
        <div class="container navbar">
            <a href="#" class="nav-logo">J&J Hairss</a>
            <ul class="nav-links">
                <li><a href="#hero">Home</a></li>
                <li><a href="#services">Services</a></li>
                <li><a href="#gallery">Gallery</a></li>
                <li><a href="#testimonials">Testimonials</a></li>
                <li><a href="#policies">Policies</a></li>
            </ul>
            <div class="hamburger">
                <div class="line line1"></div>
                <div class="line line2"></div>
                <div class="line line3"></div>
            </div>
        </div>
    </header>

    <main>
        <!-- Hero Section -->
        <section id="hero" class="hero">
            <div class="hero-content">
                <h1>Artistry in Every Braid</h1>
                <p>Elegant styles, expertly crafted. Discover your new look with us.</p>
                <a href="#book" class="btn" data-booking-trigger data-style="Signature Booking">Book An Appointment</a>
            </div>
        </section>

        <!-- Featured Services Section -->
        <section id="services">
            <div class="container">
                <h2>Our Popular Services</h2>
                        <!-- Swipable stacked card slider for services -->
                        <div class="services-slider" aria-label="Popular services carousel">
                            <button class="service-nav service-nav--prev" aria-label="Previous service">◀</button>
                            <div class="service-stack" tabindex="0">
                    <!-- Service Card 1 -->
                        <div class="service-stack__card" data-index="0" role="group" aria-label="Smedium Knotless Braids">
                            <img src="./assets/images/card-1.jpeg" alt="Smedium Knotless Braids" class="thumb"/>
                            <div class="">
                            </div>
                            <div class="service-card__footer">
                                <div class="meta-row">
                                    <span class="pill price">$190</span>
                                    <span class="pill duration">3–5 hrs</span>
                                </div>
                                <h3>Smedium Knotless Braids</h3>
                                <a class="btn" href="#book" data-booking-trigger data-style="Smedium Knotless Braids">Book This Look</a>
                            </div>
                        </div>
                    <!-- Service Card 2 -->
                        <div class="service-stack__card" data-index="1" role="group" aria-label="Boho Add-On">
                            <img src="./assets/images/card-2.jpg" alt="Boho Add-On" class="thumb"/>
                            <div class="">
                            </div>
                            <div class="service-card__footer">
                                <div class="meta-row">
                                    <span class="pill price">+ $40</span>
                                    <span class="pill duration">Add-on</span>
                                </div>
                                <h3>Boho Add-On</h3>
                                <a class="btn" href="#book" data-booking-trigger data-style="Boho Add-On">Add to Booking</a>
                            </div>
                        </div>
                    <!-- Service Card 3 -->
                        <div class="service-stack__card" data-index="2" role="group" aria-label="Small Knotless Braids/Twist">
                            <img src="./assets/images/card-3.jpg" alt="Small Knotless Braids/Twist" class="thumb"/>
                            <div class="">
                            </div>
                            <div class="service-card__footer">
                                <div class="meta-row">
                                    <span class="pill price">$180</span>
                                    <span class="pill duration">3–6 hrs</span>
                                </div>
                                <h3>Small Knotless Braids / Twist</h3>
                                <a class="btn" href="#book" data-booking-trigger data-style="Small Knotless Braids / Twist">Book This Look</a>
                            </div>
                        </div>
                    </div>
                    <button class="service-nav service-nav--next" aria-label="Next service">▶</button>
                </div>
            </div>
        </section>
        
        <!-- Gallery Section -->
        <section id="gallery">
            <div class="container">
                <h2>Our Work</h2>
                <div class="bubble-cluster" aria-label="Our Work — tap a bubble to expand">
                            <div class="bubble" data-id="1" tabindex="0"><img src="./assets/images/collage-1.jpg" alt="collage"/></div>
                            <div class="bubble" data-id="2" tabindex="0"><img src="./assets/images/collage-2.jpeg" alt="collage 2"/></div>
                            <div class="bubble" data-id="3" tabindex="0"><img src="./assets/images/collage-3.jpg" alt="collage 3"/></div>
                            <div class="bubble" data-id="4" tabindex="0"><img src="./assets/images/collage-4.jpg" alt="collage 4"/></div>
                            <div class="bubble" data-id="5" tabindex="0"><img src="./assets/images/collage-5.jpg" alt="collage 5"/></div>
                            <div class="bubble" data-id="6" tabindex="0"><img src="./assets/images/collage-6.jpg" alt="collage 6"/></div>
                            <div class="bubble" data-id="7" tabindex="0"><img src="./assets/images/collage-7.jpg" alt="collage 7"/></div>
                            <div class="bubble" data-id="8" tabindex="0"><img src="./assets/images/collage-8.jpeg" alt="collage 8"/></div>
                            <div class="bubble" data-id="9" tabindex="0"><img src="./assets/images/collage-9.jpeg" alt="collage 9"/></div>
                </div>
            </div>
        </section>

        <!-- Testimonials Section -->
        <section id="testimonials" style="background-color: var(--color-primary-light); color: var(--color-primary-dark);">
                    <h2>What Our Clients Say</h2>
                    <div class="testimonial">
                        <div class="testimonial-grid">
                            <div class="testimonial-card">
                                <blockquote>"Absolutely in love with my hair! The entire experience was so professional and relaxing. They took great care to make sure my braids were perfect and not too tight. I've received so many compliments!"</blockquote>
                                <div class="testimonial-meta">
                                    <div class="avatar"><img src="./assets/images/reviewer-jessica.svg" onerror="this.src='https://images.unsplash.com/photo-1544005313-94ddf0286df2?q=80&w=400&auto=format&fit=crop'" alt="Jessica"></div>
                                    <div>
                                        <strong>Jessica L.</strong>
                                        <div style="font-size:.85rem;color:rgba(0,0,0,0.56);">Happy client • Knotless braids</div>
                                    </div>
                                </div>
                            </div>

                            <div class="testimonial-card">
                                <blockquote>"The stylists listened to exactly what I wanted and made recommendations that elevated the look. My appointment was timely and the finish lasted for weeks — best salon experience I've had."</blockquote>
                                <div class="testimonial-meta">
                                    <div class="avatar"><img src="./assets/images/reviewer-monique.svg" onerror="this.src='https://images.unsplash.com/photo-1545996124-1f9a5d3889b1?q=80&w=400&auto=format&fit=crop'" alt="Monique"></div>
                                    <div>
                                        <strong>Monique R.</strong>
                                        <div style="font-size:.85rem;color:rgba(0,0,0,0.56);">Repeat client • Protective styles</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
            </div>
        </section>

        <!-- Policies Section (Appointment + Photo Policy) -->
        <section id="policies" style="background-color: var(--color-primary-light); color: var(--color-primary-dark);">
            <div class="container">
                <h2>Policies</h2>

                <div class="policy-grid">
                    <div class="policy-card">
                        <h3>Appointment Policy</h3>
                        <div>
                            <p style="margin-bottom:0.5rem;">A $20 deposit is required and non-refundable if an appointment is cancelled. Please cancel at least 24 hours prior to your appointment whenever possible.</p>
                            <p style="margin-bottom:0.5rem;">There is a 20 minute grace period for lateness — if you arrive later than this we may need to reschedule or shorten the service depending on availability.</p>
                            <p style="margin-bottom:0.5rem;">Please arrive with clean, detangled hair. If your hair requires excessive washing or detangling, additional fees may apply.</p>
                            <p style="margin-bottom:0.5rem;">Payment accepted: Cash, Cash App and PayPal.</p>
                        </div>
                    </div>

                    <div class="policy-card">
                        <h3>Photo Policy & Service Notes</h3>
                        <div>
                            <p style="margin-bottom:0.5rem;">By booking an appointment you agree to be photographed for marketing and portfolio purposes. If you do not want to be photographed, please let us know prior to your appointment.</p>
                            <p style="margin-bottom:0.5rem;">All hair textures are welcome. For best results, avoid applying excess oils, heavy creams, or grease to your hair right before your appointment.</p>
                            <p style="margin-bottom:0.5rem;">If you want a service that isn't listed, reach out via your preferred contact method (socials or booking comments) and we'll help you plan it.</p>
                        </div>
                    </div>
                </div>
                <div style="text-align:center;margin-top:1.5rem;">
                    <a href="#book" class="btn" data-booking-trigger data-style="Appointment">Book / Manage Appointment</a>
                </div>
            </div>
        </section>

        <!-- Booking Modal -->
        <div class="booking-overlay" id="bookingOverlay" aria-hidden="true">
            <div class="booking-modal" role="dialog" aria-modal="true" aria-labelledby="bookingTitle">
                <button class="booking-close" aria-label="Close booking" onclick="closeBooking()">&times;</button>
                <div class="booking-header">
                    <div>
                        <div class="booking-eyebrow">Book Appointment</div>
                        <h3 id="bookingTitle">Pick a date</h3>
                    </div>
                    <div class="booking-progress" aria-label="Booking progress">
                        <span class="dot is-active" data-step-dot="date"></span>
                        <span class="dot" data-step-dot="time"></span>
                        <span class="dot" data-step-dot="confirm"></span>
                    </div>
                </div>
                <div class="booking-body">
                    <div class="booking-steps">
                        <div class="booking-step is-active" data-step="date">
                            <div class="calendar-top">
                                <h4 id="calendarMonth">June 2025</h4>
                                <div class="calendar-controls">
                                    <button class="ghost-btn" type="button" data-cal-prev aria-label="Previous month">‹</button>
                                    <button class="ghost-btn" type="button" data-cal-next aria-label="Next month">›</button>
                                </div>
                            </div>
                            <div class="calendar-grid" id="calendarGrid" role="grid" aria-label="Select a date"></div>
                        </div>
                        <div class="booking-step" data-step="time">
                            <div class="calendar-top">
                                <h4>Select a time</h4>
                                <div style="color: rgba(255,255,255,0.65);" id="chosenDateLabel"></div>
                            </div>
                            <div class="time-grid" id="timeGrid" role="listbox" aria-label="Select a time"></div>
                        </div>
                        <div class="booking-step" data-step="confirm">
                            <div class="booking-summary" aria-live="polite">
                                <h4>Confirmation</h4>
                                <div class="line" id="summaryStyle">Style: —</div>
                                <div class="line" id="summaryDate">Date: —</div>
                                <div class="line" id="summaryTime">Time: —</div>
                                <p style="color: rgba(255,255,255,0.7); margin-top: 0.6rem;">We’ll hold this slot while you confirm.</p>
                            </div>
                            <div class="booking-actions">
                                <button class="btn primary" id="confirmBookingBtn" type="button">Confirm Booking</button>
                                <span style="color: rgba(255,255,255,0.72); font-size: 0.95rem;">You can adjust the date/time anytime before confirming.</span>
                            </div>
                        </div>
                    </div>
                    <div class="booking-aside">
                        <h4>What to expect</h4>
                        <p>Pick a date, then choose the time that works best for you. Confirm to lock it in.</p>
                        <p id="selectedStyleNote">Selected look: Signature Booking</p>
                        <p style="margin-top: .6rem; color: rgba(255,255,255,0.65); font-size: 0.92rem;">Theme is synced to the site accent. Change the theme once and it updates titles, buttons, and this modal.</p>
                    </div>
                </div>
            </div>
        </div>
        
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <a href="#" class="nav-logo">J&J Hairss</a>
             <div class="social-links" style="margin-top: 1.5rem;">
                <!-- Replace # with your social media links -->
                <a href="#" aria-label="Instagram"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg></a>
                <a href="#" aria-label="Facebook"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg></a>
            </div>
            <p>&copy; 2025 J&J Hairss. All Rights Reserved.</p>
        </div>
    </footer>
    
    <script>
        // Small global helper to ensure booking modal can be closed from the button
        window.closeBooking = function() {
            const ov = document.getElementById('bookingOverlay');
            if (!ov) return;
            ov.classList.remove('is-visible');
            ov.setAttribute('aria-hidden', 'true');
            document.body.classList.remove('booking-open');
        };

        // Theme manager: change accent + heading colors globally with one call
        (function () {
            const root = document.documentElement;
            const themes = {
                signature: {
                    accent: '#c9a97e',
                    heading: '#d1b3c4'
                },
                blush: {
                    accent: '#f29bb2',
                    heading: '#f7d9e3'
                },
                emerald: {
                    accent: '#76d6b3',
                    heading: '#a8edd2'
                }
            };

            function applyTheme(name = 'signature') {
                const t = themes[name] || themes.signature;
                root.style.setProperty('--theme-accent', t.accent);
                root.style.setProperty('--color-accent', t.accent);
                root.style.setProperty('--theme-heading', t.heading);
                root.style.setProperty('--color-secondary', t.heading);
            }

            applyTheme('signature');
            window.applyBookingTheme = applyTheme;
        })();

        const hamburger = document.querySelector('.hamburger');
        const navLinks = document.querySelector('.nav-links');

        hamburger.addEventListener('click', () => {
            // Toggle Nav overlay
            const isOpen = navLinks.classList.toggle('nav-active');

            // lock page scroll while open
            document.body.classList.toggle('nav-open', isOpen);

            // Burger Animation
            hamburger.classList.toggle('toggle', isOpen);
        });
        
        // Close nav when a link is clicked
        document.querySelectorAll('.nav-links li a').forEach(link => {
            link.addEventListener('click', () => {
                navLinks.classList.remove('nav-active');
                hamburger.classList.remove('toggle');
                document.body.classList.remove('nav-open');
            });
        });

        // Also close the overlay when tapping outside the pills
        navLinks.addEventListener('click', (e) => {
            if (e.target === navLinks) {
                navLinks.classList.remove('nav-active');
                hamburger.classList.remove('toggle');
                document.body.classList.remove('nav-open');
            }
        });

        // Booking flow: calendar -> time -> confirmation with smooth transitions
        (function () {
            const overlay = document.getElementById('bookingOverlay');
            if (!overlay) return;

            const modal = overlay.querySelector('.booking-modal');
            const closeBtn = overlay.querySelector('.booking-close');
            const calendarGrid = document.getElementById('calendarGrid');
            const calendarMonth = document.getElementById('calendarMonth');
            const timeGrid = document.getElementById('timeGrid');
            const chosenDateLabel = document.getElementById('chosenDateLabel');
            const summaryDate = document.getElementById('summaryDate');
            const summaryTime = document.getElementById('summaryTime');
            const summaryStyle = document.getElementById('summaryStyle');
            const selectedStyleNote = document.getElementById('selectedStyleNote');
            const confirmBtn = document.getElementById('confirmBookingBtn');
            const stepDots = overlay.querySelectorAll('[data-step-dot]');
            const stepEls = overlay.querySelectorAll('.booking-step');
            const titleEl = document.getElementById('bookingTitle');
            const prevMonthBtn = overlay.querySelector('[data-cal-prev]');
            const nextMonthBtn = overlay.querySelector('[data-cal-next]');
            const triggers = document.querySelectorAll('[data-booking-trigger]');

            const stepTitles = {
                date: 'Pick a date',
                time: 'Pick a time',
                confirm: 'Confirm your booking'
            };

            const state = { date: null, time: null, style: 'Signature Booking' };
            const today = new Date(); today.setHours(0,0,0,0);
            let viewMonth = new Date(); viewMonth.setDate(1);

            function isSameDay(a, b) {
                return a && b && a.getFullYear() === b.getFullYear() && a.getMonth() === b.getMonth() && a.getDate() === b.getDate();
            }

            function formatDate(date) {
                if (!date) return '';
                return date.toLocaleDateString(undefined, { weekday: 'short', month: 'short', day: 'numeric', year: 'numeric' });
            }

            function formatTime(hours, minutes) {
                const d = new Date();
                d.setHours(hours);
                d.setMinutes(minutes);
                return d.toLocaleTimeString([], { hour: 'numeric', minute: '2-digit' });
            }

            function generateSlots() {
                const slots = [];
                for (let h = 9; h <= 17; h++) {
                    for (let m = 0; m < 60; m += 30) {
                        if (h === 17 && m > 0) continue;
                        slots.push(formatTime(h, m));
                    }
                }
                return slots;
            }

            function setDots(step) {
                stepDots.forEach(dot => dot.classList.toggle('is-active', dot.getAttribute('data-step-dot') === step));
            }

            function goStep(step) {
                stepEls.forEach(el => el.classList.toggle('is-active', el.getAttribute('data-step') === step));
                titleEl.textContent = stepTitles[step] || 'Book Appointment';
                setDots(step);
            }

            function renderCalendar() {
                calendarGrid.innerHTML = '';
                calendarMonth.textContent = viewMonth.toLocaleDateString(undefined, { month: 'long', year: 'numeric' });

                const startDay = new Date(viewMonth.getFullYear(), viewMonth.getMonth(), 1);
                const daysInMonth = new Date(viewMonth.getFullYear(), viewMonth.getMonth() + 1, 0).getDate();
                const leading = startDay.getDay();

                for (let i = 0; i < leading; i++) {
                    const blank = document.createElement('div');
                    blank.className = 'calendar-day muted';
                    blank.setAttribute('aria-hidden', 'true');
                    calendarGrid.appendChild(blank);
                }

                for (let day = 1; day <= daysInMonth; day++) {
                    const dateObj = new Date(viewMonth.getFullYear(), viewMonth.getMonth(), day);
                    const btn = document.createElement('button');
                    btn.type = 'button';
                    btn.className = 'calendar-day';
                    btn.textContent = day;
                    btn.dataset.date = dateObj.toISOString();
                    const disabled = dateObj < today;
                    if (disabled) { btn.classList.add('muted'); btn.disabled = true; }
                    if (state.date && isSameDay(dateObj, state.date)) btn.classList.add('is-selected');
                    btn.addEventListener('click', () => {
                        if (disabled) return;
                        state.date = dateObj;
                        state.time = null;
                        renderCalendar();
                        goStep('time');
                        renderTimes();
                        updateSummary();
                    });
                    calendarGrid.appendChild(btn);
                }
            }

            function renderTimes() {
                timeGrid.innerHTML = '';
                if (!state.date) {
                    chosenDateLabel.textContent = 'Select a date to see available times';
                    return;
                }
                chosenDateLabel.textContent = formatDate(state.date);
                generateSlots().forEach(time => {
                    const btn = document.createElement('button');
                    btn.type = 'button';
                    btn.className = 'time-chip';
                    if (state.time === time) btn.classList.add('is-selected');
                    btn.textContent = time;
                    btn.addEventListener('click', () => {
                        state.time = time;
                        goStep('confirm');
                        renderTimes();
                        updateSummary();
                    });
                    timeGrid.appendChild(btn);
                });
            }

            function updateSummary() {
                summaryStyle.textContent = `Style: ${state.style || '—'}`;
                summaryDate.textContent = `Date: ${state.date ? formatDate(state.date) : '—'}`;
                summaryTime.textContent = `Time: ${state.time || '—'}`;
                confirmBtn.disabled = !(state.date && state.time);
                confirmBtn.textContent = confirmBtn.disabled ? 'Confirm Booking' : 'Confirm Booking';
            }

            function openModal() {
                overlay.classList.add('is-visible');
                overlay.setAttribute('aria-hidden', 'false');
                document.body.classList.add('booking-open');
                viewMonth = new Date(); viewMonth.setDate(1);
                selectedStyleNote.textContent = `Selected look: ${state.style}`;
                confirmBtn.disabled = !(state.date && state.time);
                confirmBtn.textContent = 'Confirm Booking';
                goStep('date');
                renderCalendar();
                renderTimes();
                updateSummary();
                setTimeout(() => calendarGrid.querySelector('button:not(.muted)')?.focus(), 80);
            }

            function closeModal() {
                overlay.classList.remove('is-visible');
                overlay.setAttribute('aria-hidden', 'true');
                document.body.classList.remove('booking-open');
                state.date = null;
                state.time = null;
                goStep('date');
                renderCalendar();
                renderTimes();
                updateSummary();
            }

            triggers.forEach(trigger => {
                trigger.addEventListener('click', (e) => {
                    e.preventDefault();
                    state.style = trigger.dataset.style || trigger.textContent.trim();
                    openModal();
                });
            });

            overlay.addEventListener('click', (e) => { if (e.target === overlay) closeModal(); });
            modal.addEventListener('click', (e) => e.stopPropagation());
            closeBtn.addEventListener('click', closeModal);
            document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && overlay.classList.contains('is-visible')) closeModal(); });

            prevMonthBtn.addEventListener('click', () => {
                const minMonth = new Date(); minMonth.setDate(1);
                const nextDate = new Date(viewMonth); nextDate.setMonth(viewMonth.getMonth() - 1);
                if (nextDate >= minMonth) { viewMonth = nextDate; renderCalendar(); }
            });

            nextMonthBtn.addEventListener('click', () => {
                viewMonth = new Date(viewMonth.getFullYear(), viewMonth.getMonth() + 1, 1);
                renderCalendar();
            });

            confirmBtn.addEventListener('click', () => {
                if (!(state.date && state.time)) return;
                confirmBtn.textContent = 'Booked ✔';
                confirmBtn.disabled = true;
                setTimeout(() => {
                    closeModal();
                    confirmBtn.textContent = 'Confirm Booking';
                    confirmBtn.disabled = false;
                }, 700);
            });
        })();

        // Services slider: horizontal snap with smooth scroll + nav buttons
        (function () {
            const root = document.querySelector('.services-slider');
            if (!root) return;

            const inner = root.querySelector('.service-stack');
            const prevBtn = root.querySelector('.service-nav--prev');
            const nextBtn = root.querySelector('.service-nav--next');
            const items = Array.from(inner.querySelectorAll('.service-stack__card'));
            if (!inner) return;

            const cardWidth = () => items[0]?.getBoundingClientRect().width || 360;
            const scrollAmount = () => cardWidth() + 24;

            function scrollByDir(dir) {
                inner.scrollBy({ left: dir * scrollAmount(), behavior: 'smooth' });
            }

            prevBtn && prevBtn.addEventListener('click', () => scrollByDir(-1));
            nextBtn && nextBtn.addEventListener('click', () => scrollByDir(1));

            // keyboard support
            inner.addEventListener('keydown', (e) => {
                if (e.key === 'ArrowLeft') { e.preventDefault(); scrollByDir(-1); }
                if (e.key === 'ArrowRight') { e.preventDefault(); scrollByDir(1); }
            });

            // snap align first card into view on load
            requestAnimationFrame(() => {
                const first = items[0];
                if (first) {
                    const offset = first.getBoundingClientRect().left - inner.getBoundingClientRect().left;
                    inner.scrollBy({ left: offset, behavior: 'smooth' });
                }
            });
        })();

        // Bubble cluster interaction: layout, floating animation, expand/collapse behavior
        (function () {
            const cluster = document.querySelector('.bubble-cluster');
            if (!cluster) return;

            let bubbles = Array.from(cluster.querySelectorAll('.bubble'));

            // create overlay for expanded view
            const overlay = document.createElement('div');
            overlay.className = 'bubble-overlay';
            overlay.setAttribute('aria-hidden', 'true');
            document.body.appendChild(overlay);

            // lightbox viewer that animates out from the tapped bubble
            const viewer = document.createElement('div');
            viewer.className = 'bubble-viewer';
            viewer.setAttribute('role', 'dialog');
            viewer.setAttribute('aria-label', 'Expanded gallery image');
            const viewerImg = document.createElement('img');
            viewerImg.className = 'bubble-viewer__img';
            viewer.appendChild(viewerImg);
            document.body.appendChild(viewer);

            let open = null;
            let closeTimer;

            // debounce helper
            function debounce(fn, wait) {
                let t;
                return (...args) => { clearTimeout(t); t = setTimeout(() => fn(...args), wait); };
            }

            function lockPage(state) {
                document.body.classList.toggle('bubble-lightbox-open', state);
            }

            function getTargetRect(img) {
                const maxW = Math.min(window.innerWidth * 0.9, 1040);
                const maxH = Math.min(window.innerHeight * 0.85, 900);
                const ratio = (img.naturalWidth && img.naturalHeight) ? (img.naturalHeight / img.naturalWidth) : 1;
                let width = maxW;
                let height = width * ratio;
                if (height > maxH) {
                    height = maxH;
                    width = height / ratio;
                }
                const left = (window.innerWidth - width) / 2;
                const top = (window.innerHeight - height) / 2;
                return { width, height, left, top };
            }

            function openBubble(el) {
                if (!el) return;
                const img = el.querySelector('img');
                if (!img) return;

                clearTimeout(closeTimer);

                const start = img.getBoundingClientRect();
                const target = getTargetRect(img);

                viewerImg.src = img.currentSrc || img.src;
                viewerImg.alt = img.alt || 'Gallery image';

                // snap to the bubble origin before animating out
                viewer.classList.remove('is-open');
                viewer.style.transition = 'none';
                viewer.style.width = start.width + 'px';
                viewer.style.height = start.height + 'px';
                viewer.style.left = start.left + 'px';
                viewer.style.top = start.top + 'px';
                viewer.offsetHeight; // force reflow so jump to origin is instant
                viewer.style.transition = '';

                bubbles.forEach(b => b.classList.remove('is-active'));
                el.classList.add('is-active');

                viewer.classList.add('is-visible');
                overlay.classList.add('visible');
                overlay.setAttribute('aria-hidden', 'false');
                lockPage(true);

                requestAnimationFrame(() => {
                    viewer.style.width = target.width + 'px';
                    viewer.style.height = target.height + 'px';
                    viewer.style.left = target.left + 'px';
                    viewer.style.top = target.top + 'px';
                    viewer.classList.add('is-open');
                });

                open = el;
            }

            function closeBubble(targetEl) {
                if (!open) return;
                const el = targetEl || open;
                const img = el.querySelector('img');
                const end = img ? img.getBoundingClientRect() : null;

                viewer.classList.remove('is-open');
                if (end) {
                    viewer.style.width = end.width + 'px';
                    viewer.style.height = end.height + 'px';
                    viewer.style.left = end.left + 'px';
                    viewer.style.top = end.top + 'px';
                }

                overlay.classList.remove('visible');
                overlay.setAttribute('aria-hidden', 'true');
                lockPage(false);
                bubbles.forEach(b => b.classList.remove('is-active'));

                clearTimeout(closeTimer);
                closeTimer = setTimeout(() => {
                    viewer.classList.remove('is-visible');
                }, 420);

                open = null;
            }

            // layout algorithm: compute optimal columns and bubble size so items don't overlap
            function layoutBubbles() {
                bubbles = Array.from(cluster.querySelectorAll('.bubble'));
                const count = bubbles.length || 1;
                const containerW = Math.max(0, cluster.clientWidth);
                const gap = 12;
                const desired = parseInt(getComputedStyle(document.documentElement).getPropertyValue('--bubble-size')) || 180;
                const minSize = 80;

                // Force a 3-column layout (3x3 when 9 items present)
                let cols = 3;
                if (count < 3) cols = count;

                let bubbleSize = Math.floor((containerW - gap * (cols - 1)) / cols);
                if (bubbleSize > desired) bubbleSize = desired;
                if (bubbleSize < minSize) {
                    bubbleSize = minSize;
                    cols = Math.max(1, Math.floor((containerW + gap) / (bubbleSize + gap)));
                }

                // Use fixed columns so tiles line up as a 3xN grid
                cluster.style.removeProperty('height');
                cluster.style.display = 'grid';
                cluster.style.gridTemplateColumns = `repeat(${cols}, ${bubbleSize}px)`;
                cluster.style.gap = gap + 'px';
                cluster.style.position = 'relative';

                // ensure each bubble is a perfect circle and sized consistently
                bubbles.forEach((b, i) => {
                    b.style.boxSizing = 'border-box';
                    b.style.position = 'relative';
                    b.style.removeProperty('left');
                    b.style.removeProperty('top');
                    b.style.removeProperty('z-index');
                    b.style.setProperty('width', bubbleSize + 'px', 'important');
                    b.style.setProperty('height', bubbleSize + 'px', 'important');
                    b.style.setProperty('min-width', bubbleSize + 'px', 'important');
                    b.style.setProperty('min-height', bubbleSize + 'px', 'important');
                    b.style.setProperty('aspect-ratio', '1 / 1', 'important');
                    b.style.setProperty('--float-delay', `${(i % 7) * 0.12}s`);
                    b.style.margin = '0';
                });
            }

            // wire bubble interactions (rebind safely)
            function bindBubbles() {
                bubbles = Array.from(cluster.querySelectorAll('.bubble'));
                bubbles.forEach(b => {
                    b.tabIndex = 0;
                    if (b.dataset.bound === 'true') return;
                    b.dataset.bound = 'true';
                    b.addEventListener('click', (e) => {
                        e.stopPropagation();
                        if (open === b) { closeBubble(b); } else { openBubble(b); }
                    });
                    b.addEventListener('keydown', (e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); b.click(); } });
                });
            }

            // initial layout + bindings
            layoutBubbles();
            bindBubbles();

            // respond to resize
            const onResize = debounce(() => {
                layoutBubbles();
                if (open) openBubble(open);
            }, 120);
            window.addEventListener('resize', onResize);

            // close when clicking overlay or pressing Escape
            overlay.addEventListener('click', () => { if (open) closeBubble(open); });
            viewer.addEventListener('click', (e) => e.stopPropagation());
            document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && open) closeBubble(open); });
            // clicking or focusing outside the popup collapses
            document.addEventListener('click', (e) => { if (open && !viewer.contains(e.target) && !e.target.closest('.bubble')) closeBubble(open); });
            document.addEventListener('focusin', (e) => { if (open && !viewer.contains(e.target) && !e.target.closest('.bubble')) closeBubble(open); });

            // watch for DOM changes (bubbles added/removed) and relayout
            const mo = new MutationObserver(debounce(() => { layoutBubbles(); bindBubbles(); }, 80));
            mo.observe(cluster, { childList: true, subtree: false });
        })();

        // Keep gallery section vertical height in sync with previous section (#services)
        (function syncGalleryHeight() {
            const services = document.getElementById('services');
            const gallery = document.getElementById('gallery');
            if (!services || !gallery) return;

            function applyHeight() {
                const rect = services.getBoundingClientRect();
                // include computed top/bottom padding of section
                const style = getComputedStyle(services);
                const paddingTop = parseFloat(style.paddingTop) || 0;
                const paddingBottom = parseFloat(style.paddingBottom) || 0;
                const total = Math.round(rect.height + paddingTop + paddingBottom);
                gallery.style.minHeight = total + 'px';
            }

            const debouncedApply = (function () { let t; return () => { clearTimeout(t); t = setTimeout(applyHeight, 120); }; })();

            // initial
            applyHeight();

            // update on window resize
            window.addEventListener('resize', debouncedApply);

            // if ResizeObserver available, observe services for content changes
            if (window.ResizeObserver) {
                const ro = new ResizeObserver(debouncedApply);
                ro.observe(services);
            }
        })();

    </script>
</body>
</html>
